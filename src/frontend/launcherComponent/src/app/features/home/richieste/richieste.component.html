<!-- Singola Richiesta Fissata  -->
<ng-template [ngIf]="richiestaFissata">
    <app-richiesta-fissata [nightMode]="nightMode"
                           [richiestaFissata]="richiestaFissata"
                           [richiestaGestione]="richiestaGestione"
                           [idRichiesteEspanse]="(idRichiesteEspanse$ | async)"
                           [disabledModificaRichiesta]="permessiFeature.ModificaRichiesta | checkPermissionRichiesta: richiestaFissata.codUOCompetenza : richiestaFissata.codSOCompetente : richiestaFissata.codSOAllertate"
                           [disabledGestisciRichiesta]="permessiFeature.GestisciRichiesta | checkPermissionRichiesta: richiestaFissata.codUOCompetenza : richiestaFissata.codSOCompetente : richiestaFissata.codSOAllertate"
                           [disabledComposizionePartenza]="(permessiFeature.ComposizionePartenzaRichiesta | checkPermissionRichiesta: richiestaFissata.codUOCompetenza : richiestaFissata.codSOCompetente : richiestaFissata.codSOAllertate) || richiestaFissata.stato === statoRichiesta.Chiusa"
                           [loadingActionRichiesta]="loadingActionRichiesta$ | async"
                           (statoPartenza)="toggleComposizione()"
                           (composizionePartenza)="nuovaPartenza($event)"
                           (defissa)="onDefissa()"
                           (modificaRichiesta)="onModificaRichiesta($event)"
                           (gestioneRichiesta)="onGestioneRichiesta($event)"
                           (outEspanso)="onSetEspanso($event)"
                           (outEspansoId)="toggleEspanso($event)"
                           (actionMezzo)="onActionMezzo($event)"
                           (eliminaPartenza)="onEliminaPartenza($event)">
    </app-richiesta-fissata>
</ng-template>

<app-lista-richieste [nightMode]="nightMode"
                     [richieste]="richieste"
                     [ricerca]="ricerca"
                     [richiestaFissata]="richiestaFissata"
                     [richiestaSelezionata]="richiestaSelezionata"
                     [richiestaHover]="richiestaHover"
                     [richiestaGestione]="richiestaGestione"
                     [listHeightClass]="listHeightClass"
                     [idRichiesteEspanse]="(idRichiesteEspanse$ | async)"
                     [codiciFiltriSelezionati]="codiciFiltriSelezionati"
                     [page]="page$ | async"
                     [pageSize]="pageSize$ | async"
                     [totalItems]="totalItems$ | async"
                     [loading]="loadingRichieste$ | async"
                     [needRefresh]="needRefresh$ | async"
                     [loadingActionRichiesta]="loadingActionRichiesta$ | async"
                     [loadingEliminaPartenza]="loadingEliminaPartenza$ | async"
                     (statoPartenza)="toggleComposizione()"
                     (composizionePartenza)="nuovaPartenza($event)"
                     (fissaInAlto)="onFissaInAlto($event)"
                     (hoverIn)="onHoverIn($event)"
                     (hoverOut)="onHoverOut()"
                     (selezione)="onSelezione($event)"
                     (deselezione)="onDeselezione()"
                     (pageChange)="onNuoveRichieste($event)"
                     (refresh)="onRefreshRichieste()"
                     (modificaRichiesta)="onModificaRichiesta($event)"
                     (gestioneRichiesta)="onGestioneRichiesta($event)"
                     (actionMezzo)="onActionMezzo($event)"
                     (outEspansoId)="toggleEspanso($event)"
                     (eliminaPartenza)="onEliminaPartenza($event)">
</app-lista-richieste>
