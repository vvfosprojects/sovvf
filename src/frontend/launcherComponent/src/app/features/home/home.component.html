<div class="container-fluid" *ngIf="(navbarLoaded | async)">
    <div class="row">
        <div class="col-12 px-0" [ngClass]="{'d-none': !boxAttivi}">
            <app-info-aggregate></app-info-aggregate>
        </div>
    </div>
    <div class="row">
        <div class="col-12" [ngClass]="{'mt-3': !boxAttivi}">
            <app-filterbar [colorButton]="(colorButton$ | async)" [viewState]="viewState"></app-filterbar>
        </div>
    </div>
    <div class="row" [ngClass]="{'mt-1': !boxAttivi}">
        <div [ngClass]="columnState.sinistra">
            <app-richieste [ngClass]="{'d-none' : !viewState.richieste.active}" [split]="viewState.richieste.split"
                           [boxAttivi]="boxAttivi">
            </app-richieste>
            <app-chiamata *ngIf="viewState.chiamata.active" [boxAttivi]="boxAttivi"></app-chiamata>
            <app-composizione-partenza *ngIf="viewState.composizione.active"
                                       [boxAttivi]="boxAttivi"
                                       [compPartenzaMode]="(composizioneMode$ | async)">
            </app-composizione-partenza>
            <app-modifica-richiesta *ngIf="viewState.modifica.active" [boxAttivi]="boxAttivi"></app-modifica-richiesta>
            <app-mezzi-in-servizio *ngIf="viewState.mezziInServizio.active"
                                   [boxAttivi]="boxAttivi"></app-mezzi-in-servizio>
            <app-schede-contatto *ngIf="viewState.schedeContatto.active" [boxAttivi]="boxAttivi"></app-schede-contatto>
        </div>
        <div class="mt-2" [ngClass]="columnState.destra || {'d-none' : !viewState.mappa.active}">
            <app-maps [viewStateMappa]="(viewStateMappa$ | async)"
                      [boxAttivi]="boxAttivi"
                      (mapFullLoaded)="onMapFullLoaded()"></app-maps>
        </div>
    </div>
</div>
