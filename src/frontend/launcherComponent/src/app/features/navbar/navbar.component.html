<ng-template [ngIf]="listeSediNavbarLoaded$ | async">
    <nav class="navbar navbar-expand-lg text-light"
         [ngClass]="{'navbar-dark bg-dark': !turnoExtra, 'navbar-danger bg-danger': turnoExtra}">
        <div class="clearfix w-100">
            <!-- Zona Sinistra -->
            <div class="float-left">
                <div class="clearfix">
                    <!-- Bottoni Sinistra -->
                    <div class="float-left mr-5">
                        <button class="btn btn-light mr-2"
                                ngbTooltip="Vai alla lista Chiamate/Interventi"
                                placement="right"
                                [routerLink]="['/' + RoutesPath.Home]"
                                [class.btn-nav-selected]="!(mezziInServizioStatus$ | async) && !(schedeContattoStatus$ | async) && !(codaChiamateStatus$ | async) && url === '/home'"
                                (click)="onChiamateInterventi()">
                            <i class="fa fa-home"></i>
                        </button>
                        <button class="btn btn-light mr-2"
                                ngbTooltip="Visualizza Mezzi in Servizio"
                                placement="right"
                                [class.cursor-not-allowed]="disabledMezziInServizio"
                                [class.btn-nav-selected]="(mezziInServizioStatus$ | async) && url === '/home'"
                                [disabled]="disabledMezziInServizio"
                                (click)="toggleMezziInSerivizo()">
                            <i class="fa fa-truck"></i>
                        </button>
                        <app-tasto-schede-contatto [active]="schedeContattoStatus$ | async"
                                                   [contatoriSchedeContatto]="contatoriSchedeContatto$ | async"
                                                   (toggle)="toggleSchedeContatto()">
                        </app-tasto-schede-contatto>
                        <button class="btn btn-light mr-2"
                                ngbTooltip="Visualizza Coda Chiamate"
                                placement="right"
                                [class.btn-nav-selected]="(codaChiamateStatus$ | async) && url === '/home'"
                                (click)="toggleCodaChiamate()">
                            <i class="fa fa-phone mr-1"></i>
                            <i class="fa fa-list"></i>
                        </button>
                    </div>
                    <!-- Treeview -->
                    <ng-template [ngIf]="listeSediNavbarLoaded$ | async">
                        <div class="float-left mr-5">
                            <app-unita-operativa [colorButton]="colorButton"
                                                 [cache]="true">
                            </app-unita-operativa>
                        </div>
                    </ng-template>
                    <!-- Turno -->
                    <div class="float-left mr-5">
                        <app-turno [turno]="turnoCalendario" [turnoExtra]="turnoExtra"></app-turno>
                    </div>
                    <!-- Data/Ora -->
                    <div class="float-left mr-5">
                        <app-clock [time]="time"></app-clock>
                    </div>
                </div>
            </div>
            <!-- Zona Destra -->
            <div class="float-right">
                <div class="clearfix">
                    <!-- Operatore e Bottono Destra -->
                    <div class="float-right">
                        <button class="btn btn-light mr-2"
                                ngbTooltip="Visualizza Esercitazioni"
                                [routerLink]="['/' + RoutesPath.Esercitazioni]"
                                [class.btn-nav-selected]="url === '/esercitazioni' || url === '/esercitazioni'"
                                [routerLinkActive]="['btn-light-nav', 'text-dark']">
                            <i class="fa fa-book"></i>
                        </button>
                        <button class="btn btn-light mr-2" ngbTooltip="Visualizza Trasferimenti Chiamate"
                                [routerLink]="['/' + RoutesPath.TrasferimentoChiamata]"
                                [class.btn-nav-selected]="url === '/trasferimento-chiamata'"
                                [routerLinkActive]="['btn-light-nav', 'text-dark']">
                            <i class="fa fa-exchange"></i>
                        </button>
                        <button class="btn btn-light mr-2" ngbTooltip="Visualizza Rubrica Enti"
                                [routerLink]="['/' + RoutesPath.Rubrica]"
                                [class.btn-nav-selected]="url === '/rubrica' || url === '/rubrica-personale'"
                                [routerLinkActive]="['btn-light-nav', 'text-dark']">
                            <i class="fa fa-address-book"></i>
                        </button>
                        <button class="btn btn-light mr-2" ngbTooltip="Visualizza Gestione Utenti"
                                [routerLink]="['/' + RoutesPath.GestioneUtenti]"
                                [class.btn-nav-selected]="url === '/gestione-utenti'"
                                [routerLinkActive]="['btn-light-nav', 'text-dark']">
                            <i class="fa fa-users"></i>
                        </button>
                        <button class="btn btn-light mr-2" ngbTooltip="Visualizza Info Aggiornamenti"
                                [routerLink]="['/' + RoutesPath.Changelog]"
                                [class.btn-nav-selected]="url === '/changelog'"
                                [routerLinkActive]="['btn-light-nav', 'text-dark']">
                            <i class="fa fa-newspaper-o"></i>
                        </button>
                        <button class="btn btn-light" ngbTooltip="Visualizza Impostazioni Sede"
                                [routerLink]="['/' + RoutesPath.ImpostazioniSede]"
                                [class.btn-nav-selected]="url === '/impostazioni-sede'"
                                [routerLinkActive]="['btn-light-nav', 'text-dark']">
                            <i class="fa fa-cogs"></i>
                        </button>
                        <app-operatore [user]="user"
                                       [ruoliUtenteLoggato]="ruoliUtenteLoggato"
                                       [url]="url$ | async"
                                       [listaNotifiche]="listaNotifiche$ | async"
                                       [nuoveNotifiche]="nuoveNotifiche$ | async"
                                       (notificheLette)="setNotificheLette()"
                                       (logout)="logout()"></app-operatore>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</ng-template>
