<div class="d-inline-block font-xxlarge mt-1">
    <i class="fas fa-truck fa-fw mr-1 text-{{statoMezzoColor(mezzo?.stato)}}" [ngbTooltip]="mezzo?.stato"></i>
    <div *ngIf="mezzo.descrizione"
         class="d-inline-block font-weight-bold"
         [ngbTooltip]="mezzo.descrizione"
         [disableTooltip]="mezzo.descrizione.length <= 13">
        {{ mezzo.descrizione | slice: 0: 13 }}
    </div>
    <div *ngIf="mezzo.genere" class="badge badge-default m-0"
         [ngbTooltip]="mezzo.genere.length > 5 ? mezzo.genere : ''">
        {{ mezzo.genere | truncate: 3 }}
    </div>
</div>

<div class="d-inline-block position-relative">
    <ng-container *ngIf="actionsAttive && !mezzoInServizioPage">
        <ng-container *ngIf="tipoConcorrenzaEnum.Richiesta | checkConcorrenzaLocked: [codiceRichiesta]">
            <app-locked-concorrenza
                    [nominativoOperatore]="tipoConcorrenzaEnum.Richiesta | checkConcorrenzaLocked: [codiceRichiesta]">
            </app-locked-concorrenza>
        </ng-container>
        <app-mezzo-actions [codiceRichiesta]="codiceRichiesta"
                           [mezzo]="mezzo"
                           [codicePartenza]="codicePartenza"
                           [listaEventi]="listaEventi"
                           [listaEventiMezzo]="listaEventiMezzo"
                           (actionMezzo)="onActionMezzo($event)">
        </app-mezzo-actions>
    </ng-container>
</div>

<span *ngIf="mezzoInServizioPage && mezzo?.istantiCambiStato" class="ml-3 px-2 text-{{statoMezzoColor(mezzo.stato)}}"
      style="border: solid thin; font-size: 20px">
    <span>{{mezzo.istantiCambiStato[mezzo.istantiCambiStato.length - 1]?.stato}}</span>
    <span *ngIf="mezzo.istantiCambiStato[mezzo.istantiCambiStato.length -1]?.stato !== 'In Sede'">: {{mezzo.istantiCambiStato[mezzo.istantiCambiStato.length - 1]?.istante | date : 'HH:mm'}}</span>
</span>

<div *ngIf="mostraRichiestaAssociata" class="d-inline-block text-right">
    Richiesta {{ mezzo.idRichiesta }}
</div>
