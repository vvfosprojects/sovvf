<li class="list-group-item cursor-pointer border" (mouseenter)="onHoverIn()" (mouseleave)="onHoverOut()" [class.bg-moon-light]="!sunMode"
    [class.font-xlarge]="viewState.composizione.active" [class.cursor-not-allowed]="squadraComposizioneBusy()"
    (click)="onClick()" [ngClass]="liClass()">
    <div class="row">
        <hr *ngIf="squadraComposizioneBusy()" class="squadra-bloccata-hr">
        <div class="clearfix pl-0" style="width: 40%" [class.opacity-6]="squadraComposizioneBusy()">
        <span class="badge badge-info mr-2 py-1" [ngbPopover]="componenti" placement="right"
              triggers="mouseenter:mouseleave">
          <i class="fa fa-user mr-1"></i><span *ngIf="componenti">{{squadraComp.squadra.componenti.length}}</span>
        </span>
              <ng-template #componenti>
                  <div *ngFor="let c of squadraComp.squadra.componenti">
                      <span class="badge badge-secondary mr-1">{{c.descrizioneQualifica | truncate: 12}}</span>
                      <span class="d-inline-block mr-2">{{c.nominativo | replace: '.': ' ' | truncate: 15}}</span>
                  </div>
              </ng-template>
              <span class="font-weight-bolder">{{squadraComp.squadra.nome}}</span>
              <span class="d-inline-block ml-1">({{squadraComp.squadra.turno}})</span>
          </div>
        <div *ngIf="viewState.composizione.active" class="clearfix font-xlarge text-right pr-1" style="width: 60%;" [class.opacity-6]="squadraComposizioneBusy()">
          <span class="" [ngClass]="badgeDistaccamentoClass()"
                [ngbTooltip]="squadraComp.squadra.distaccamento.descrizione">{{squadraComp.squadra.distaccamento.descrizione}}</span>
        </div>
        <div *ngIf="!viewState.composizione.active" class="col-2 pl-0" [class.opacity-6]="squadraComposizioneBusy()">
        <span class="" [ngClass]="badgeDistaccamentoClass()"
            [ngbTooltip]="squadraComp.squadra.distaccamento.descrizione">{{squadraComp.squadra.distaccamento.descrizione
        | slice:0:3}}</span>
      </div>
        <div *ngIf="squadraComposizioneBusy()" class="squadra-bloccata ">
          <span class="badge badge-danger mr-1" style="cursor: not-allowed; vertical-align: text-bottom">
          <i class="fa fa-lg fa-lock mr-2"></i>
          <span>Squadra {{squadraComp.squadra.nome}} ({{squadraComp.squadra.turno}}) impegnata</span>
        </span>
      </div>
    </div>
</li>
